<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Store hire bicycle data in SQLite3 database — store_bikedata • bikedata</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Store hire bicycle data in SQLite3 database — store_bikedata" />

<meta property="og:description" content="Store previously downloaded data (via the dl_bikedata function) in a
database for subsequent extraction and analysis." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bikedata</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.2.99</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/bikedata">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Store hire bicycle data in SQLite3 database</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/bikedata/blob/master/R/store-bikedata.R'><code>R/store-bikedata.R</code></a></small>
    <div class="hidden name"><code>store_bikedata.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Store previously downloaded data (via the <a href='dl_bikedata.html'>dl_bikedata</a> function) in a
database for subsequent extraction and analysis.</p>
    
    </div>

    <pre class="usage"><span class='fu'>store_bikedata</span>(<span class='no'>bikedb</span>, <span class='no'>city</span>, <span class='no'>data_dir</span>, <span class='kw'>dates</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>bikedb</th>
      <td><p>A string containing the path to the SQLite3 database to 
use. If it doesn't already exist, it will be created, otherwise data
will be appended to existing database.  If no directory specified,
it is presumed to be in <code>tempdir()</code>.</p></td>
    </tr>
    <tr>
      <th>city</th>
      <td><p>One or more cities for which to download and store bike data, or
names of corresponding bike systems (see Details below).</p></td>
    </tr>
    <tr>
      <th>data_dir</th>
      <td><p>A character vector giving the directory containing the
data files downloaded with <code>dl_bikedata</code> for one or more
cities. Only if this parameter is missing will data be downloaded.</p></td>
    </tr>
    <tr>
      <th>dates</th>
      <td><p>If specified and no <code>data_dir</code> is given, data are
downloaded and stored only for these dates specified as vector of YYYYMM
values.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>If FALSE, progress is displayed on screen</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Number of trips added to database</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Data for different cities may all be stored in the same database, with
city identifiers automatically established from the names of downloaded data
files. This function can take quite a long time to execute, and may generate
an SQLite3 database file several gigabytes in size.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
    <p>City names are not case sensitive, and must only be long enough to
unambiguously designate the desired city. Names of corresponding bike systems
can also be given.  Currently possible cities (with minimal designations in
parentheses) and names of bike hire systems are:</p><table class='table'>
<tr><td>Boston (bo)</td><td>Hubway</td></tr>
<tr><td>Chicago (ch)</td><td>Divvy Bikes</td></tr>
<tr><td>Washington, D.C. (dc)</td><td>Capital Bike Share</td></tr>
<tr><td>Los Angeles (la)</td><td>Metro Bike Share</td></tr>
<tr><td>London (lo)</td><td>Santander Cycles</td></tr>
<tr><td>Minnesota (mn)</td><td>NiceRide</td></tr>
<tr><td>New York City (ny)</td><td>Citibike</td></tr>
<tr><td>Philadelphia (ph)</td><td>Indego</td></tr>
<tr><td>San Francisco Bay Area (sf)</td><td>Ford GoBike</td></tr>
<tr><td></td><td>Boston (bo)</td></tr>
</table>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='no'>data_dir</span> <span class='kw'>&lt;-</span> <span class='fu'>tempdir</span> ()
<span class='fu'><a href='bike_write_test_data.html'>bike_write_test_data</a></span> (<span class='kw'>data_dir</span> <span class='kw'>=</span> <span class='no'>data_dir</span>)
<span class='co'># or download some real data!</span>
<span class='co'># dl_bikedata (city = 'la', data_dir = data_dir)</span>
<span class='no'>bikedb</span> <span class='kw'>&lt;-</span> <span class='fu'>file.path</span> (<span class='no'>data_dir</span>, <span class='st'>'testdb'</span>)
<span class='fu'>store_bikedata</span> (<span class='kw'>data_dir</span> <span class='kw'>=</span> <span class='no'>data_dir</span>, <span class='kw'>bikedb</span> <span class='kw'>=</span> <span class='no'>bikedb</span>)
<span class='co'># create database indexes for quicker access:</span>
<span class='fu'><a href='index_bikedata_db.html'>index_bikedata_db</a></span> (<span class='kw'>bikedb</span> <span class='kw'>=</span> <span class='no'>bikedb</span>)

<span class='no'>trips</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bike_tripmat.html'>bike_tripmat</a></span> (<span class='kw'>bikedb</span> <span class='kw'>=</span> <span class='no'>bikedb</span>, <span class='kw'>city</span> <span class='kw'>=</span> <span class='st'>'LA'</span>) <span class='co'># trip matrix</span>
<span class='no'>stations</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='bike_stations.html'>bike_stations</a></span> (<span class='kw'>bikedb</span> <span class='kw'>=</span> <span class='no'>bikedb</span>) <span class='co'># station data</span>

<span class='fu'><a href='bike_rm_test_data.html'>bike_rm_test_data</a></span> (<span class='kw'>data_dir</span> <span class='kw'>=</span> <span class='no'>data_dir</span>)
<span class='fu'><a href='bike_rm_db.html'>bike_rm_db</a></span> (<span class='no'>bikedb</span>)
<span class='co'># don't forget to remove real data!</span>
<span class='co'># file.remove (list.files (data_dir, pattern = '.zip'))</span>
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Mark Padgham, Richard Ellison, Tom Buckley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

